# GitHub Actions – GitHub-Hosted & Self-Hosted Runners

This document explains **GitHub Actions runners**, which are the machines that actually **execute workflows**.

Understanding runners is critical because they directly impact:
- Execution environment
- Performance
- Security
- Cost
- Scalability

If workflows define *what* to run,  
**runners define *where* it runs**.

---

## What Is a Runner?

A **runner** is a machine that:
- Listens for GitHub Actions jobs
- Executes the steps defined in a workflow
- Reports results back to GitHub

Every job in a workflow **must run on a runner**.

---

## Types of Runners in GitHub Actions

GitHub Actions supports two main types of runners:

1. **GitHub-hosted runners**
2. **Self-hosted runners**

---

# GitHub-Hosted Runners

## What Are GitHub-Hosted Runners?

GitHub-hosted runners are:
- Fully managed by GitHub
- Created on demand
- Destroyed after the job completes

Example:

    runs-on: ubuntu-latest

You do not manage:
- OS
- Patching
- Scaling
- Cleanup

---

## When GitHub-Hosted Runners Are a Good Fit

Use GitHub-hosted runners when:
- You want quick setup
- Builds are lightweight
- No private network access is required
- You don’t want infrastructure overhead

---

# Self-Hosted Runners

## What Are Self-Hosted Runners?

Self-hosted runners are:
- Machines you own or control
- Registered with GitHub
- Used to execute GitHub Actions jobs

They can run on:
- Physical servers
- Virtual machines
- Cloud instances (EC2, Azure VM, etc.)

You manage the environment completely.

---

## Why Use Self-Hosted Runners?

Self-hosted runners are useful when:
- You need custom tools or software
- Jobs require access to private networks
- Builds are resource-intensive
- You want predictable performance
- You want to reduce GitHub-hosted runner costs at scale

---

# How to Add a Self-Hosted Runner (Step-by-Step)

This section walks you through **adding a self-hosted runner from scratch**.

We assume:
- Linux machine (VM or server)
- Internet access
- GitHub repository access

---

## Step 1: Go to Your GitHub Repository Settings

1. Open your GitHub repository
2. Click **Settings**
3. Navigate to:

    Actions → Runners

4. Click **New self-hosted runner**

GitHub will now show **setup instructions** specific to your OS.

---

## Step 2: Choose the Operating System

Select the operating system of your runner:
- Linux
- Windows
- macOS

For learning and real-world usage, **Linux is most common**.

---

## Step 3: Download the Runner Package

On your self-hosted machine, create a directory:

    mkdir actions-runner
    cd actions-runner

Download the runner package (example for Linux x64):

    curl -o actions-runner.tar.gz -L https://github.com/actions/runner/releases/latest/download/actions-runner-linux-x64.tar.gz

Extract the package:

    tar xzf actions-runner.tar.gz

This installs the runner software.

---

## Step 4: Configure the Runner

GitHub provides a **repository-specific registration token**.

Run the configuration command:

    ./config.sh --url https://github.com/<your-username>/<your-repo> --token <TOKEN>

During configuration:
- You will be asked to name the runner
- You can add labels (optional)
- Default values are fine for beginners

This step **registers the runner with GitHub**.

---

## Step 5: Start the Runner

Start the runner:

    ./run.sh

At this point:
- The runner connects to GitHub
- It waits for jobs
- It shows as **Idle** in the GitHub UI

The runner must remain running to accept jobs.

---

## Step 6: Verify Runner Registration

Back in GitHub:
- Go to **Settings → Actions → Runners**
- You should see your runner listed
- Status should be **Idle**

This confirms the runner is ready.

---

## Step 7: Use the Self-Hosted Runner in a Workflow

To run a job on your self-hosted runner, update your workflow:

    runs-on: self-hosted

Or with labels:

    runs-on: [self-hosted, linux]

GitHub will now send jobs to your machine.

---

## Important Notes for Beginners

- If the runner process stops, jobs will not run
- The runner executes code with the permissions of the user running it
- Never use self-hosted runners for untrusted public code
- Keep runners updated regularly

---

## Common Beginner Issues

- Runner shows offline → process not running
- Job stuck in queue → no matching runner labels
- Permission denied → scripts not executable
- Network issues → firewall or proxy blocking access

These are normal and part of learning.

---

## Security Best Practices (Very Important)

- Do not expose runners publicly
- Use dedicated runners for production
- Separate runners for trusted vs untrusted workflows
- Rotate runner tokens if compromised
- Monitor runner logs

A compromised runner can compromise your environment.

---

## GitHub-Hosted vs Self-Hosted (Quick Comparison)

| Aspect | GitHub-Hosted | Self-Hosted |
|------|--------------|------------|
| Setup | Very easy | Manual |
| Maintenance | GitHub | You |
| Custom Tools | Limited | Full |
| Network Access | Public | Private |
| Cost | Usage-based | Infra-based |
| Control | Limited | Full |

---

## Key Takeaways

- Runners execute GitHub Actions jobs
- GitHub-hosted runners are easy and managed
- Self-hosted runners give full control
- Adding a self-hosted runner is straightforward
- Choice depends on security, cost, and environment

---

## What’s Next?

In the next section, we will move into **hands-on GitHub Actions**:
- Writing your first workflow
- Running jobs on GitHub-hosted runners
- Comparing execution with Jenkins pipelines
- Understanding failures clearly

This completes the **GitHub Actions execution model**.
